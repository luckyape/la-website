!function(){"use strict";var e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||e)&&navigator.serviceWorker.register("service-worker.js").then(function(e){e.onupdatefound=function(){if(navigator.serviceWorker.controller){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(e){console.error("Error during service worker registration:",e)})}();var laViewer=function(e){var t={gridId:"viewer-cards",counterId:"viewer-counter",cardClass:".viewer-item",viewerFilterChipsId:"viewer-filter-chips",filterChipsId:"viewer-filter-chips",cardChipClass:".card-action .chip",materializeChips:!0,chipOptions:{placeholder:"...",secondaryPlaceholder:"...",autocompleteOptions:{limit:1/0,minLength:1}},flickity:{cellSelector:".flickity-item",wrapAround:!0,selectedAttraction:.2,friction:.8,resize:!0,pageDots:!1,cellAlign:"center"},isotope:{layoutMode:"packery",packery:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".grid-item",percentPosition:!0,resize:!0}};$.extend(t,e);var i=document.getElementById(t.gridId),n=document.getElementById(t.counterId),o=i.querySelectorAll(t.cardClass),r=document.getElementById(t.viewerFilterChipsId),a=$(r),c=/iphone|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase())&&"ontouchstart"in document.documentElement,s={chips:[]},l=function(){var e=Array.prototype.slice.call(r.querySelectorAll(".chip")).map(function(e){return e.firstChild.textContent});return e},d=function(){var e=$(i),n=t.isotope,r=function(){var e=this.getAttribute("data-keywords").split(","),t=!0;if(!s.selected){s.chips=l();for(var i=0;i<s.chips.length;i++)if(e.indexOf(s.chips[i])>-1)return!0;return!1}return t=e.indexOf(s.selected)>-1};n.filter=r,e.isotope(n),$("img",o).each(function(t,i){$("<img/>").attr("src",i.src).load(function(){$(this).remove(),e.isotope()})});for(var a=0,c=o.length;a<c;a++)o[a].classList.remove("hide-item")},u=function(){var e=$(i),r=e.data("flickity");n.classList.remove("thud"),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){n.classList.add("thud")})});for(var a=0,c=o.length;a<c;a++){var d=o[a],u=d.getAttribute("data-keywords").split(",");if(d.classList.remove("flickity-item"),d.classList.add("hide-item"),s.selected)d.getAttribute("data-keywords").indexOf(s.selected)>-1&&d.classList.add("flickity-item");else{s.chips=s.chips=l();for(var p=0,m=s.chips.length;p<m;p++)u.indexOf(s.chips[p])>-1&&d.classList.add("flickity-item")}}r&&e.flickity("destroy");for(var f=e.flickity(t.flickity),h=0,g=o.length;h<g;h++){var v=o[h];v.classList.contains("flickity-item")&&v.classList.remove("hide-item")}var y=f.data("flickity"),k=function(){var e=y.selectedIndex+1;n.innerHTML=e+"/"+y.slides.length};f.on("select.flickity",k),k()},p=function(){function e(){var e=this.getAttribute("data-lg-image"),t=setTimeout(function(){$(".loader-container").fadeIn("slow")},300);$("<img/>").attr("src",e).load(function(){clearTimeout(t),$(".loader-container").hide(),$(".img-container .image",o).html(this),$(".img-container",o).fadeIn(),$(".img-container",o).panzoom&&($(".img-container",o).panzoom({minScale:1,panOnlyWhenZoomed:!0}),$(".panzoom .close",o).on("touchstart",function(e){e.stopImmediatePropagation()}))}),o.fadeIn("fast")}function t(){$(".img-container .image",o).html(""),$(".img-container",o).hide(),o.fadeOut("fast"),$(".img-container",o).panzoom&&$(".img-container",o).panzoom("reset")}var n=$(i),o=$("#la-viewer-overlay");c?(i.isotope&&n.isotope("destroy"),n.flickity?n.flickity&&setTimeout(u,100):(async(["https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"],u),async(["https://cdn.jsdelivr.net/npm/jquery.panzoom@3.2.2/dist/jquery.panzoom.min.js"]))):(n.flickity&&n.flickity("destroy"),n.isotope?n.isotope&&setTimeout(d,100):async(["https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"],function(){async(["https://cdn.jsdelivr.net/npm/isotope-packery@2.0.0/packery-mode.pkgd.min.js"],d)})),$("[data-lg-image]",n).click(e),o.click(t)},m=function(){c?u():c||$(i).isotope()},f=function(e){for(var i=[],n=[],r={},a=o.length,c=0;c<a;c++){var l=o[c].getAttribute("data-keywords").split(","),d=l[0].trim().replace(/\s+/g,"-").toLowerCase();i.push({tag:d,id:d}),n=n.concat(l)}for(var u=n.length,p=0;p<u;p++){var f=n[p];r[f]||(r[f]=null)}var h=t.chipOptions;h.data=i,h.autocompleteOptions.data=r,e.material_chip(h),$("input",e).focus(),e.on("click",function(){s.selected&&(s.selected=null,m())}),e.on("chip.select",function(e,t){s.selected=t.tag,m()}),e.on("chip.add",m),e.on("chip.delete",function(e){s.selected===e.tag&&(s.selected=null),m()})},h=function(e){return t.materializeChips?f(e):$(".chip",e).on("click",function(){var t=this.innerText;console.info(t,this),s.selected===t?(s.selected=null,$(this).removeClass("selected")):($(".chip",e).removeClass("selected"),$(this).addClass("selected"),s.selected=t),m()}),e},g=function(){function e(){var e=document.createElement("style"),t=a.height();e.innerHTML=".filter-on.viewer-filter { min-height: "+(t+30)+"px; will-change: min-height;}",document.body.appendChild(e);for(var i=document.querySelectorAll(".tap-target-row,.viewer-filter,.toggle-filter"),n=0,o=i.length;n<o;n++)i[n].classList.toggle("filter-on")}a=h(a),$(".toggle-filter a").click(e),p()};g()};!function(e){e(function(){laViewer(),e(".info-spot").click(function(){e(".tap-target").tapTarget("open")})})}(jQuery);var $contWrap=$("#la-content-wrapper"),$body=$("body");!function(e){e(function(){e(".button-collapse").sideNav({onOpen:function(){setTimeout(function(){Materialize.showStaggeredList("#nav-mobile")},50),$contWrap.addClass("la-blur"),$body.addClass("side-menu-active")},onClose:function(t){e("li",t).css({opacity:0}),$contWrap.removeClass("la-blur"),$body.removeClass("side-menu-active")}})})}(jQuery);
//# sourceMappingURL=store.min.js.map
