{"version":3,"names":[],"mappings":"","sources":["viewer.min.js"],"sourcesContent":["!function(){\"use strict\";var e=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.info(\"isLocalhost\",e),\"serviceWorker\"in navigator&&(\"https:\"===window.location.protocol||e)&&navigator.serviceWorker.register(\"service-worker.js\").then(function(e){console.info(\"service worker registered\"),e.onupdatefound=function(){if(navigator.serviceWorker.controller){var t=e.installing;t.onstatechange=function(){switch(t.state){case\"installed\":break;case\"redundant\":throw new Error(\"The installing service worker became redundant.\")}}}}})[\"catch\"](function(e){console.error(\"Error during service worker registration:\",e)})}(),function(e){e(function(){var t={chips:[]},i=e(\"#viewer-cards\"),o=e(\"#viewer-counter\"),n={},r=[],c={},a=e(\".viewer-item\",i),s={cellSelector:\".flickity-item\",wrapAround:!0,selectedAttraction:.2,friction:.8,resize:!0,pageDots:!1,cellAlign:\"center\"},l=function(){a.removeClass(\"hide-item\")},d=function(){i.flickity&&(i.flickity(\"destroy\"),a.addClass(\"hide-item\"));var t=i.flickity(s);e(\".flickity-item\",i).removeClass(\"hide-item\");var n=t.data(\"flickity\"),r=function(){var e=n.selectedIndex+1;o.text(e+\"/\"+n.slides.length)};t.on(\"select.flickity\",r),r()},u=function(){var i=function(i,o){var r=e(o);if(r.removeClass(\"flickity-item\"),t.selected)r.data(\"keywords\").indexOf(t.selected)>-1&&r.addClass(\"flickity-item\");else{t.chips=n.material_chip(\"data\").map(function(e){return e.tag});for(var c=0;c<t.chips.length;c++)if(r.data(\"keywords\").indexOf(t.chips[c])>-1){r.addClass(\"flickity-item\");break}}};o.removeClass(\"thud\"),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){o.addClass(\"thud\")})}),a.each(i).promise().done(d)},f=function(){probPhone?u():probPhone||i.isotope()},p=function(){var o=function(){var i=!0,o=e(this);if(!t.selected){t.chips=n.material_chip(\"data\").map(function(e){return e.tag});for(var r=0;r<t.chips.length;r++)if(o.data(\"keywords\").indexOf(t.chips[r])>-1)return!0;return!1}return i=o.data(\"keywords\").indexOf(t.selected)>-1};i.isotope({layoutMode:\"packery\",packery:{columnWidth:\".grid-sizer\",gutter:\".gutter-sizer\"},itemSelector:\".grid-item\",percentPosition:!0,resize:!0,filter:o}),e(\"img\",a).each(function(t,o){e(\"<img/>\").attr(\"src\",o.src).load(function(){e(this).remove(),i.isotope()})}),l()},h=function(){probPhone?(i.hasClass(\"isotope\")&&i.isotope(\"destroy\"),i.flickity?i.flickity&&setTimeout(d,100):async([\"https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js\"],d)):(i.hasClass(\"flickity-enabled\")&&i.flickity(\"destroy\"),i.isotope?i.isotope&&setTimeout(p,100):async([\"https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js\"],function(){async([\"https://cdn.jsdelivr.net/npm/isotope-packery@2.0.0/packery-mode.pkgd.min.js\"],p)}))},m=function(t,i){var o=e(i).text().trim();e(i).is(\":first-child\")&&r.push({tag:o,id:o.trim().replace(/\\s+/g,\"-\").toLowerCase()}),null!==c[o]&&(c[o]=null)},g=function(){n=e(\"#viewer-chips\"),n.material_chip({data:r,placeholder:\"...\",autocompleteOptions:{data:c,limit:1/0,minLength:1}}),e(\"input\",n).focus(),n.on(\"click\",function(){t.selected&&(t.selected=null,f())}),n.on(\"chip.select\",function(e,i){t.selected=i.tag,f()}),n.on(\"chip.add\",f),n.on(\"chip.delete\",function(e){t.selected===e.tag&&(t.selected=null),f()})};e(\".card-action .chip\",i).each(m).promise().done(g,h),e(\".info-spot\").click(function(){e(\".tap-target\").tapTarget(\"open\")}),e(\".toggle-filter a\").click(function(){var t=document.createElement(\"style\");t.innerHTML=\".filter-on.viewer-filter { min-height: \"+(n.height()+20)+\"px; will-change: min-height;}\",document.body.appendChild(t),e(\".viewer-filter,.toggle-filter\").toggleClass(\"filter-on\")})})}(jQuery);var $contWrap=$(\"#la-content-wrapper\");!function(e){e(function(){e(\".button-collapse\").sideNav({onOpen:function(){setTimeout(function(){Materialize.showStaggeredList(\"#nav-mobile\")},50),$contWrap.addClass(\"la-blur\")},onClose:function(t){e(\"li\",t).css({opacity:0}),$contWrap.removeClass(\"la-blur\")}})})}(jQuery);"],"file":"viewer.min.js"}