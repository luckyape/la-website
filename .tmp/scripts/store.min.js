!function(){"use strict";var i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||i)&&navigator.serviceWorker.register("service-worker.js").then(function(i){i.onupdatefound=function(){if(navigator.serviceWorker.controller){var t=i.installing;t.onstatechange=function(){switch(t.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(i){console.error("Error during service worker registration:",i)})}();var laViewer=function(i){var t={gridId:"viewer-cards",counterId:"viewer-counter",cardClass:".viewer-item",viewerFilterChipsId:"viewer-filter-chips",filterChipsId:"viewer-filter-chips",cardChipClass:".card-action .chip",materializeChips:!0,chipOptions:{placeholder:"...",secondaryPlaceholder:"...",autocompleteOptions:{limit:1/0,minLength:1}},flickity:{cellSelector:".flickity-item",wrapAround:!0,selectedAttraction:.2,friction:.8,resize:!0,pageDots:!1,cellAlign:"center"},isotope:{layoutMode:"packery",packery:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".grid-item",percentPosition:!0,resize:!0}};$.extend(t,i),console.info(t);var e=this;this.$el=$(this),this.$document=$(document),this.grid=document.getElementById(t.gridId),this.counter=document.getElementById(t.counterId),this.cards=this.grid.querySelectorAll(t.cardClass),this.viewerFilterChips=document.getElementById(t.viewerFilterChipsId),this.$chips=$(this.viewerFilterChips),this.probPhone=/iphone|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase())&&"ontouchstart"in document.documentElement,this.filters={chips:[]},this.initViewer=function(){function i(){var i=this.getAttribute("data-lg-image"),t=setTimeout(function(){$(".loader-container").fadeIn("slow")},300);$("<img/>").attr("src",i).load(function(){clearTimeout(t),$(".loader-container").hide(),$(".img-container .image",o).html(this),$(".img-container",o).fadeIn(),$(".img-container",o).panzoom({minScale:1,panOnlyWhenZoomed:!0}),$(".panzoom .close",o).on("touchstart",function(i){i.stopImmediatePropagation()})}),o.fadeIn("fast")}function t(){$(".img-container .image",o).html(""),$(".img-container",o).hide(),o.fadeOut("fast"),$(".img-container",o).panzoom("reset")}var n=$(this.grid),o=$("#la-viewer-overlay");this.probPhone?(this.grid.isotope&&n.isotope("destroy"),n.flickity?n.flickity&&setTimeout(this.flickityInit,100):(async(["https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"],this.flickityInit),async(["https://cdn.jsdelivr.net/npm/jquery.panzoom@3.2.2/dist/jquery.panzoom.min.js"]))):(n.flickity&&n.flickity("destroy"),n.isotope?n.isotope&&setTimeout(e.isotopeInit,100):async(["https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"],function(){async(["https://cdn.jsdelivr.net/npm/isotope-packery@2.0.0/packery-mode.pkgd.min.js"],e.isotopeInit)})),$("[data-lg-image]",n).click(i),o.click(t)},this.init=function(){function i(){var i=document.createElement("style"),t=e.$chips.height();i.innerHTML=".filter-on.viewer-filter { min-height: "+(t+30)+"px; will-change: min-height;}",document.body.appendChild(i);for(var n=document.querySelectorAll(".tap-target-row,.viewer-filter,.toggle-filter"),o=0,r=n.length;o<r;o++)n[o].classList.toggle("filter-on")}var t=e.$chips;this.$chips=e.initChips(t),this.fiterResults=this.viewerFilterChips.querySelector(".autocomplete-content"),$(".toggle-filter a").click(i),this.initViewer()},this.initPlugin=function(){e.probPhone?e.flickityInit():this.probPhone||$(e.grid).isotope()},this.initMaterializeChips=function(i){for(var n=[],o=[],r={},s=e.cards.length,c=e.filters,a=e.cards,l=0;l<s;l++){var d=a[l].getAttribute("data-keywords").split(","),h=d[0].trim().replace(/\s+/g,"-").toLowerCase();n.push({tag:h,id:h}),o=o.concat(d)}for(var p=o.length,u=0;u<p;u++){var f=o[u];r[f]||(r[f]=null)}var m=t.chipOptions;m.data=n,m.autocompleteOptions.data=r,i.material_chip(m),$("input",i).focus(),i.on("click",function(){c.selected&&(c.selected=null,e.initPlugin())}),i.on("chip.select",function(i,t){c.selected=t.tag,e.initPlugin()}),i.on("chip.add",e.initPlugin),i.on("chip.delete",function(i){c.selected===i.tag&&(c.selected=null),e.initPlugin()})},this.initChips=function(i){if(t.materializeChips)this.initMaterializeChips(i);else{var n=e.filters;$(".chip",i).on("click",function(){var t=this.innerText;console.info(t,this),n.selected===t?(n.selected=null,$(this).removeClass("selected")):($(".chip",i).removeClass("selected"),$(this).addClass("selected"),n.selected=t),e.initPlugin()})}return i},this.isotopeInit=function(){var i=e.$chips,n=e.filters,o=$(e.grid),r=e.cards,s=t.isotope,c=function(){var t=this.getAttribute("data-keywords").split(","),o=!0;if(!n.selected){var r=i.material_chip("data");r?n.chips=r.map(function(i){return i.tag}):n.chips=Array.prototype.slice.call(e.viewerFilterChips.querySelectorAll(".chip")).map(function(i){return i.innerText});for(var s=0;s<n.chips.length;s++)if(t.indexOf(n.chips[s])>-1)return!0;return!1}return o=t.indexOf(n.selected)>-1};s.filter=c,o.isotope(s),$("img",r).each(function(i,t){$("<img/>").attr("src",t.src).load(function(){$(this).remove(),o.isotope()})});for(var a=0,l=r.length;a<l;a++)r[a].classList.remove("hide-item")},this.flickityInit=function(){var i=$(e.grid),n=e.cards,o=e.counter,r=i.flickity;o.classList.remove("thud"),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){o.classList.add("thud")})});for(var s=0,c=n.length;s<c;s++){var a=n[s],l=e.filters,d=e.$chips,h=a.getAttribute("data-keywords").split(",");if(a.classList.remove("flickity-item"),a.classList.add("hide-item"),l.selected)a.getAttribute("data-keywords").indexOf(l.selected)>-1&&a.classList.add("flickity-item");else{l.chips=d.material_chip("data").map(function(i){return i.tag});for(var p=0,u=l.chips.length;p<u;p++)h.indexOf(l.chips[p])>-1&&a.classList.add("flickity-item")}}r&&i.flickity("destroy");for(var f=i.flickity(t.flickity),m=0,g=n.length;m<g;m++){var v=n[m];v.classList.contains("flickity-item")&&v.classList.remove("hide-item")}var y=f.data("flickity"),k=function(){var i=y.selectedIndex+1;o.innerHTML=i+"/"+y.slides.length};f.on("select.flickity",k),k()},this.init()};!function(i){i(function(){laViewer(),i(".info-spot").click(function(){i(".tap-target").tapTarget("open")})})}(jQuery);var $contWrap=$("#la-content-wrapper"),$body=$("body");!function(i){i(function(){i(".button-collapse").sideNav({onOpen:function(){setTimeout(function(){Materialize.showStaggeredList("#nav-mobile")},50),$contWrap.addClass("la-blur"),$body.addClass("side-menu-active")},onClose:function(t){i("li",t).css({opacity:0}),$contWrap.removeClass("la-blur"),$body.removeClass("side-menu-active")}})})}(jQuery);
//# sourceMappingURL=store.min.js.map
