{"version":3,"sources":["main.js","la-viewer.js","work.js","init.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","navigator","protocol","serviceWorker","register","then","registration","onupdatefound","controller","installingWorker","installing","onstatechange","state","Error","e","console","error","laViewer","options","settings","gridId","counterId","cardClass","viewerFilterChipsId","filterChipsId","cardChipClass","materializeChips","chipOptions","placeholder","secondaryPlaceholder","autocompleteOptions","limit","Infinity","minLength","flickity","cellSelector","wrapAround","selectedAttraction","friction","resize","pageDots","cellAlign","isotope","layoutMode","packery","columnWidth","gutter","itemSelector","percentPosition","$","extend","grid","document","getElementById","counter","cards","querySelectorAll","viewerFilterChips","$chips","probPhone","test","userAgent","toLowerCase","documentElement","filters","chips","getChips","filterChips","Array","prototype","slice","call","map","c","firstChild","textContent","isotopeInit","$grid","isotopeSettings","chipFilter","keywords","this","getAttribute","split","isMatched","selected","i","length","indexOf","filter","each","obj","attr","src","load","remove","l","classList","flickityInit","flickityExists","data","requestAnimationFrame","add","m","ml","flickityCard","j","fL","$carousel","card","contains","flkty","updateStatus","slideNumber","selectedIndex","innerHTML","slides","on","initViewer","openLightbox","imgUrl","showLoader","setTimeout","fadeIn","clearTimeout","hide","$overlay","html","panzoom","minScale","panOnlyWhenZoomed","stopImmediatePropagation","closeLightBox","fadeOut","async","click","initPlugin","initMaterializeChips","chipsArr","autoCompleteData","cL","k","cardChips","first","trim","replace","push","tag","id","concat","cl","item","material_chip","focus","chip","initChips","innerText","info","removeClass","addClass","init","toggleFilter","sheet","createElement","filterHeight","height","body","appendChild","filterToggles","toggle","jQuery","$contWrap","$body","sideNav","onOpen","Materialize","showStaggeredList","onClose","el","css","opacity"],"mappings":"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","file":"work.min.js","sourcesContent":["/* eslint-env browser */\n(function main() {\n  'use strict';\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n  );\n\n  if ('serviceWorker' in navigator &&\n    (window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js')\n      .then(function(registration) {\n        // updatefound is fired if service-worker.js changes.\n        registration.onupdatefound = function() {\n          // updatefound is also fired the very first time the SW is installed,\n          // and there's no need to prompt for a reload at that point.\n          // So check here to see if the page is already controlled,\n          // i.e. whether there's an existing service worker.\n          if (navigator.serviceWorker.controller) {\n            // The updatefound event implies that registration.installing is set:\n            // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\n            var installingWorker = registration.installing;\n\n            installingWorker.onstatechange = function() {\n              switch (installingWorker.state) {\n                case 'installed':\n                  // At this point, the old content will have been purged and the\n                  // fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in the page's interface.\n                  break;\n\n                case 'redundant':\n                  throw new Error('The installing ' +\n                    'service worker became redundant.');\n\n                default:\n                  // Ignore\n              }\n            };\n          }\n        };\n      }).catch(function(e) {\n        console.error('Error during service worker registration:', e);\n      });\n  }\n})();\n","/* global document, navigator, async, window, $ */\nvar laViewer = function(options) { // eslint-disable-line no-unused-vars\n  var settings = {\n    gridId: 'viewer-cards',\n    counterId: 'viewer-counter',\n    cardClass: '.viewer-item',\n    viewerFilterChipsId: 'viewer-filter-chips',\n    filterChipsId: 'viewer-filter-chips',\n    cardChipClass: '.card-action .chip',\n    materializeChips: true,\n    chipOptions: {\n      placeholder: '...',\n      secondaryPlaceholder: '...',\n      autocompleteOptions: {\n        limit: Infinity,\n        minLength: 1\n      }\n    },\n    flickity: {\n      cellSelector: '.flickity-item',\n      wrapAround: true,\n      selectedAttraction: 0.2,\n      friction: 0.8,\n      resize: true,\n      pageDots: false,\n      cellAlign: 'center'\n    },\n    isotope: {\n      layoutMode: 'packery',\n      packery: {\n        columnWidth: '.grid-sizer',\n        gutter: '.gutter-sizer'\n      },\n      itemSelector: '.grid-item',\n      percentPosition: true,\n      resize: true\n    }\n  };\n  $.extend(settings, options);\n  var grid = document.getElementById(settings.gridId);\n  var counter = document.getElementById(settings.counterId);\n  var cards = grid.querySelectorAll(settings.cardClass);\n  var viewerFilterChips = document.getElementById(settings.viewerFilterChipsId);\n  var $chips = $(viewerFilterChips);\n  var probPhone = ((/iphone|android|ie|blackberry|fennec/).test(navigator.userAgent.toLowerCase()) && 'ontouchstart' in document.documentElement);\n  var filters = {\n    chips: []\n  };\n  var getChips = function() {\n    var filterChips = Array.prototype.slice.call(viewerFilterChips.querySelectorAll('.chip')).map(function(c) {\n      return c.firstChild.textContent;\n    });\n    return filterChips;\n  };\n  var isotopeInit = function() {\n    var $grid = $(grid);\n    var isotopeSettings = settings.isotope;\n\n    var chipFilter = function() {\n      var keywords = this.getAttribute('data-keywords').split(',');\n      var isMatched = true;\n      if (filters.selected) {\n        isMatched = keywords.indexOf(filters.selected) > -1;\n      } else {\n        filters.chips = getChips();\n\n        for (var i = 0; i < filters.chips.length; i++) {\n          if (keywords.indexOf(filters.chips[i]) > -1) {\n            return true;\n          }\n        }\n        return false;\n      }\n      return isMatched;\n    };\n    isotopeSettings.filter = chipFilter;\n\n    $grid.isotope(isotopeSettings);\n\n    $('img', cards).each(function(i, obj) {\n      $('<img/>')\n        .attr('src', obj.src)\n        .load(function() {\n          $(this).remove();\n          $grid.isotope();\n        });\n    });\n    for (var i = 0, l = cards.length; i < l; i++) {\n      cards[i].classList.remove('hide-item');\n    }\n  };\n\n  var flickityInit = function() {\n    var $grid = $(grid);\n    var flickityExists = $grid.data('flickity');\n    counter.classList.remove('thud');\n    window.requestAnimationFrame(function() {\n      window.requestAnimationFrame(function() {\n        counter.classList.add('thud');\n      });\n    });\n\n    for (var m = 0, ml = cards.length; m < ml; m++) {\n      var flickityCard = cards[m];\n      var keywords = flickityCard.getAttribute('data-keywords').split(',');\n      flickityCard.classList.remove('flickity-item');\n      flickityCard.classList.add('hide-item');\n      if (filters.selected) {\n        if (flickityCard.getAttribute('data-keywords').indexOf(filters.selected) > -1) {\n          flickityCard.classList.add('flickity-item');\n        }\n      } else {\n        filters.chips = filters.chips = getChips();\n        for (var j = 0, fL = filters.chips.length; j < fL; j++) {\n          if (keywords.indexOf(filters.chips[j]) > -1) {\n            flickityCard.classList.add('flickity-item');\n          }\n        }\n      }\n    }\n    if (flickityExists) {\n      $grid.flickity('destroy');\n    }\n\n    var $carousel = $grid.flickity(settings.flickity);\n    for (var i = 0, l = cards.length; i < l; i++) {\n      var card = cards[i];\n      if (card.classList.contains('flickity-item')) {\n        card.classList.remove('hide-item');\n      }\n    }\n    var flkty = $carousel.data('flickity');\n    var updateStatus = function() {\n      var slideNumber = flkty.selectedIndex + 1;\n      counter.innerHTML = slideNumber + '/' + flkty.slides.length;\n    };\n    $carousel.on('select.flickity', updateStatus);\n    updateStatus();\n  };\n  var initViewer = function() {\n    var $grid = $(grid);\n    var $overlay = $('#la-viewer-overlay');\n\n    if (probPhone) {\n      if (grid.isotope) {\n        $grid.isotope('destroy');\n      }\n      if (!$grid.flickity) {\n        async(['https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js'], flickityInit);\n        async(['https://cdn.jsdelivr.net/npm/jquery.panzoom@3.2.2/dist/jquery.panzoom.min.js']);\n      } else if ($grid.flickity) {\n        setTimeout(flickityInit, 100);\n      }\n    } else {\n      if ($grid.flickity) {\n        $grid.flickity('destroy');\n      }\n\n      if (!$grid.isotope) {\n        async(['https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js'], function() {\n          async(['https://cdn.jsdelivr.net/npm/isotope-packery@2.0.0/packery-mode.pkgd.min.js'], isotopeInit);\n        });\n      } else if ($grid.isotope) {\n        setTimeout(isotopeInit, 100);\n      }\n    }\n\n    $('[data-lg-image]', $grid).click(openLightbox);\n\n    $overlay.click(closeLightBox);\n\n    function openLightbox() {\n      var imgUrl = this.getAttribute('data-lg-image');\n      var showLoader = setTimeout(function() {\n        $('.loader-container').fadeIn('slow');\n      }, 300);\n\n      $('<img/>')\n        .attr('src', imgUrl)\n        .load(function() {\n          clearTimeout(showLoader);\n          $('.loader-container').hide();\n          $('.img-container .image', $overlay).html(this);\n          $('.img-container', $overlay).fadeIn();\n          if ($('.img-container', $overlay).panzoom) {\n            $('.img-container', $overlay).panzoom({\n              minScale: 1,\n              panOnlyWhenZoomed: true\n            });\n            $('.panzoom .close', $overlay).on('touchstart', function(e) {\n              e.stopImmediatePropagation();\n            });\n          }\n        });\n      $overlay.fadeIn('fast');\n    }\n\n    function closeLightBox() {\n      $('.img-container .image', $overlay).html('');\n      $('.img-container', $overlay).hide();\n      $overlay.fadeOut('fast');\n      if ($('.img-container', $overlay).panzoom) {\n        $('.img-container', $overlay).panzoom('reset');\n      }\n    }\n  };\n  var initPlugin = function() {\n    if (probPhone) {\n      flickityInit();\n    } else if (!probPhone) {\n      $(grid).isotope();\n    }\n  };\n  var initMaterializeChips = function($chips) {\n    var filterChips = [];\n    var chipsArr = [];\n    var autoCompleteData = {};\n    var cL = cards.length;\n\n    for (var k = 0; k < cL; k++) {\n      var cardChips = cards[k].getAttribute('data-keywords').split(',');\n      var first = cardChips[0].trim().replace(/\\s+/g, '-').toLowerCase();\n      filterChips.push({\n        tag: first,\n        id: first\n      });\n      chipsArr = chipsArr.concat(cardChips);\n    }\n\n    var cl = chipsArr.length;\n    for (var i = 0; i < cl; i++) {\n      var item = chipsArr[i];\n      if (!autoCompleteData[item]) {\n        autoCompleteData[item] = null;\n      }\n    }\n    var chipOptions = settings.chipOptions;\n    chipOptions.data = filterChips;\n    chipOptions.autocompleteOptions.data = autoCompleteData;\n    $chips.material_chip(chipOptions);\n    $('input', $chips).focus();\n\n    $chips.on('click', function() {\n      if (filters.selected) {\n        filters.selected = null;\n        initPlugin();\n      }\n    });\n    $chips.on('chip.select', function(e, chip) {\n      filters.selected = chip.tag;\n      initPlugin();\n    });\n\n    $chips.on('chip.add', initPlugin);\n    $chips.on('chip.delete', function(chip) {\n      if (filters.selected === chip.tag) {\n        filters.selected = null;\n      }\n      initPlugin();\n    });\n  };\n  var initChips = function($chips) {\n    if (settings.materializeChips) {\n      initMaterializeChips($chips);\n    } else {\n      $('.chip', $chips).on('click', function() {\n        var tag = this.innerText;\n        console.info(tag, this);\n        if (filters.selected === tag) {\n          filters.selected = null;\n          $(this).removeClass('selected');\n        } else {\n          $('.chip', $chips).removeClass('selected');\n          $(this).addClass('selected');\n          filters.selected = tag;\n        }\n        initPlugin();\n      });\n    }\n\n    return $chips;\n  };\n  var init = function() {\n    $chips = initChips($chips);\n    $('.toggle-filter a').click(toggleFilter);\n    initViewer();\n    function toggleFilter() {\n      var sheet = document.createElement('style');\n      var filterHeight = $chips.height();\n      sheet.innerHTML = '.filter-on.viewer-filter { min-height: ' + (filterHeight + 30) + 'px; will-change: min-height;}';\n      document.body.appendChild(sheet);\n      var filterToggles = document.querySelectorAll('.tap-target-row,.viewer-filter,.toggle-filter');\n      for (var i = 0, l = filterToggles.length; i < l; i++) {\n        filterToggles[i].classList.toggle('filter-on');\n      }\n    }\n  };\n\n  init();\n};\n","/* global laViewer, jQuery */\n(function($) {\n  $(function() {\n    laViewer({materializeChips: false});\n  });\n})(jQuery);\n","/* global  Materialize,jQuery, $ */\nvar $contWrap = $('#la-content-wrapper');\nvar $body = $('body');\n(function($) {\n  $(function() {\n    $('.button-collapse').sideNav({\n      onOpen: function() {\n        setTimeout(function() {\n          Materialize.showStaggeredList('#nav-mobile');\n        }, 50);\n        $contWrap.addClass('la-blur');\n        $body.addClass('side-menu-active');\n      },\n      onClose: function(el) {\n        $('li', el).css({\n          opacity: 0\n        });\n        $contWrap.removeClass('la-blur');\n        $body.removeClass('side-menu-active');\n      }\n    });\n    // end of document ready\n  });\n})(jQuery);\n// end of jQuery name space\n"]}