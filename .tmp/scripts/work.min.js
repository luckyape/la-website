!function(){"use strict";var i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||i)&&navigator.serviceWorker.register("service-worker.js").then(function(i){i.onupdatefound=function(){if(navigator.serviceWorker.controller){var e=i.installing;e.onstatechange=function(){switch(e.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(i){console.error("Error during service worker registration:",i)})}();var laViewer=function(i){var e={gridId:"viewer-cards",counterId:"viewer-counter",cardClass:".viewer-item",viewerFilterChipsId:"viewer-filter-chips",filterChipsId:"viewer-filter-chips",cardChipClass:".card-action .chip",materializeChips:!0,chipOptions:{placeholder:"...",secondaryPlaceholder:"...",autocompleteOptions:{limit:1/0,minLength:1}},flickity:{cellSelector:".flickity-item",wrapAround:!0,selectedAttraction:.2,friction:.8,resize:!0,pageDots:!1,cellAlign:"center"},isotope:{layoutMode:"packery",packery:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".grid-item",percentPosition:!0,resize:!0}};$.extend(e,i),console.info(e);var t=this;this.$el=$(this),this.$document=$(document),this.grid=document.getElementById(e.gridId),this.counter=document.getElementById(e.counterId),this.cards=this.grid.querySelectorAll(e.cardClass),this.viewerFilterChips=document.getElementById(e.viewerFilterChipsId),this.$chips=$(this.viewerFilterChips),this.probPhone=/iphone|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase())&&"ontouchstart"in document.documentElement,this.filters={chips:[]},this.initViewer=function(){function i(){var i=this.getAttribute("data-lg-image"),e=setTimeout(function(){$(".loader-container").fadeIn("slow")},300);$("<img/>").attr("src",i).load(function(){clearTimeout(e),$(".loader-container").hide(),$(".img-container .image",o).html(this),$(".img-container",o).fadeIn(),$(".img-container",o).panzoom({minScale:1,panOnlyWhenZoomed:!0}),$(".panzoom .close",o).on("touchstart",function(i){i.stopImmediatePropagation()})}),o.fadeIn("fast")}function e(){$(".img-container .image",o).html(""),$(".img-container",o).hide(),o.fadeOut("fast"),$(".img-container",o).panzoom("reset")}var n=$(this.grid),o=$("#la-viewer-overlay");this.probPhone?(this.grid.isotope&&n.isotope("destroy"),n.flickity?n.flickity&&setTimeout(this.flickityInit,100):(async(["https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"],this.flickityInit),async(["https://cdn.jsdelivr.net/npm/jquery.panzoom@3.2.2/dist/jquery.panzoom.min.js"]))):(n.flickity&&n.flickity("destroy"),n.isotope?n.isotope&&setTimeout(t.isotopeInit,100):async(["https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"],function(){async(["https://cdn.jsdelivr.net/npm/isotope-packery@2.0.0/packery-mode.pkgd.min.js"],t.isotopeInit)})),$("[data-lg-image]",n).click(i),o.click(e)},this.init=function(){function i(){var i=document.createElement("style"),e=t.$chips.height();i.innerHTML=".filter-on.viewer-filter { min-height: "+(e+30)+"px; will-change: min-height;}",document.body.appendChild(i);for(var n=document.querySelectorAll(".tap-target-row,.viewer-filter,.toggle-filter"),o=0,r=n.length;o<r;o++)n[o].classList.toggle("filter-on")}var e=t.$chips;this.$chips=t.initChips(e),this.fiterResults=this.viewerFilterChips.querySelector(".autocomplete-content"),$(".toggle-filter a").click(i),this.initViewer()},this.initPlugin=function(){t.probPhone?t.flickityInit():this.probPhone||$(t.grid).isotope()},this.initMaterializeChips=function(i){for(var n=[],o=[],r={},s=t.cards.length,c=t.filters,a=t.cards,l=0;l<s;l++){var d=a[l].getAttribute("data-keywords").split(","),h=d[0].trim().replace(/\s+/g,"-").toLowerCase();n.push({tag:h,id:h}),o=o.concat(d)}for(var u=o.length,p=0;p<u;p++){var f=o[p];r[f]||(r[f]=null)}var m=e.chipOptions;m.data=n,m.autocompleteOptions.data=r,i.material_chip(m),$("input",i).focus(),i.on("click",function(){c.selected&&(c.selected=null,t.initPlugin())}),i.on("chip.select",function(i,e){c.selected=e.tag,t.initPlugin()}),i.on("chip.add",t.initPlugin),i.on("chip.delete",function(i){c.selected===i.tag&&(c.selected=null),t.initPlugin()})},this.initChips=function(i){if(e.materializeChips)this.initMaterializeChips(i);else{var n=t.filters;$(".chip",i).on("click",function(){var e=this.innerText;console.info(e,this),n.selected===e?(n.selected=null,$(this).removeClass("selected")):($(".chip",i).removeClass("selected"),$(this).addClass("selected"),n.selected=e),t.initPlugin()})}return i},this.isotopeInit=function(){var i=t.$chips,n=t.filters,o=$(t.grid),r=t.cards,s=e.isotope,c=function(){var e=this.getAttribute("data-keywords").split(","),o=!0;if(!n.selected){var r=i.material_chip("data");r?n.chips=r.map(function(i){return i.tag}):n.chips=Array.prototype.slice.call(t.viewerFilterChips.querySelectorAll(".chip")).map(function(i){return i.innerText});for(var s=0;s<n.chips.length;s++)if(e.indexOf(n.chips[s])>-1)return!0;return!1}return o=e.indexOf(n.selected)>-1};s.filter=c,o.isotope(s),$("img",r).each(function(i,e){$("<img/>").attr("src",e.src).load(function(){$(this).remove(),o.isotope()})});for(var a=0,l=r.length;a<l;a++)r[a].classList.remove("hide-item")},this.flickityInit=function(){var i=$(t.grid),n=t.cards,o=t.counter,r=i.flickity;o.classList.remove("thud"),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){o.classList.add("thud")})});for(var s=0,c=n.length;s<c;s++){var a=n[s],l=t.filters,d=t.$chips,h=a.getAttribute("data-keywords").split(",");if(a.classList.remove("flickity-item"),a.classList.add("hide-item"),l.selected)a.getAttribute("data-keywords").indexOf(l.selected)>-1&&a.classList.add("flickity-item");else{l.chips=d.material_chip("data").map(function(i){return i.tag});for(var u=0,p=l.chips.length;u<p;u++)h.indexOf(l.chips[u])>-1&&a.classList.add("flickity-item")}}r&&i.flickity("destroy");for(var f=i.flickity(e.flickity),m=0,g=n.length;m<g;m++){var v=n[m];v.classList.contains("flickity-item")&&v.classList.remove("hide-item")}var y=f.data("flickity"),k=function(){var i=y.selectedIndex+1;o.innerHTML=i+"/"+y.slides.length};f.on("select.flickity",k),k()},this.init()};!function(i){i(function(){laViewer({materializeChips:!1})})}(jQuery);var $contWrap=$("#la-content-wrapper"),$body=$("body");!function(i){i(function(){i(".button-collapse").sideNav({onOpen:function(){setTimeout(function(){Materialize.showStaggeredList("#nav-mobile")},50),$contWrap.addClass("la-blur"),$body.addClass("side-menu-active")},onClose:function(e){i("li",e).css({opacity:0}),$contWrap.removeClass("la-blur"),$body.removeClass("side-menu-active")}})})}(jQuery);
//# sourceMappingURL=work.min.js.map
